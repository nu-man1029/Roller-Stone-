<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RSæ–½å·¥å ±å‘ŠLPã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<style>
:root { --gold: #c5a059; --bg: #0a0a0a; }
* { box-sizing: border-box; }
body { background: var(--bg); color: #fff; font-family: sans-serif; margin: 0; padding: 20px; }
h1, h2 { color: var(--gold); text-align: center; }

.input-section { max-width: 620px; margin: 0 auto 40px; background: #1c1c1c; padding: 24px; border-radius: 16px; border: 1px solid #3a3a3a; }

label { display: block; margin-top: 16px; color: var(--gold); font-weight: bold; font-size: 0.88rem; }
input[type="text"], input[type="date"], input[type="tel"], input[type="url"], textarea, select {
  width: 100%; padding: 12px; margin-top: 5px; background: #0d0d0d; border: 1px solid #444; color: #fff; border-radius: 8px; font-size: 16px;
}
textarea { height: 90px; resize: vertical; }
select { cursor: pointer; }

.section-title {
  font-size: 0.75rem; font-weight: bold; letter-spacing: 0.1em; color: #888;
  border-bottom: 1px solid #2a2a2a; padding-bottom: 8px; margin-top: 28px; margin-bottom: 4px;
}

/* ãƒ†ãƒ¼ãƒé¸æŠ */
.theme-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 10px; }
.theme-card { border: 2px solid #333; border-radius: 10px; padding: 12px 8px; text-align: center; cursor: pointer; transition: all 0.2s; }
.theme-card.selected { border-color: var(--gold); background: #2a2200; }
.theme-card .theme-name { font-size: 0.8rem; font-weight: bold; margin-top: 6px; }
.theme-card .theme-desc { font-size: 0.68rem; color: #888; margin-top: 3px; line-height: 1.4; }
.theme-preview { height: 50px; border-radius: 6px; margin-bottom: 4px; }

/* ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ */
.file-input-wrapper {
  border: 1px dashed #555; padding: 16px; text-align: center; border-radius: 8px;
  cursor: pointer; position: relative; overflow: hidden; background: #0d0d0d; margin-top: 6px;
}
.file-input-wrapper:hover { border-color: var(--gold); }
.file-input-wrapper input[type="file"] { opacity:0; position:absolute; top:0; left:0; width:100%; height:100%; cursor:pointer; }
.preview-img { width: 100%; max-height: 160px; object-fit: contain; display: none; margin-top: 8px; border-radius: 6px; }
.preview-label { font-size: 0.78rem; color: #888; }

/* BAãƒšã‚¢ */
.ba-pair { background: #141414; border: 1px solid #2e2e2e; border-radius: 10px; padding: 14px; margin-top: 12px; position: relative; }
.ba-pair .pair-num { font-size: 0.75rem; color: var(--gold); font-weight: bold; margin-bottom: 8px; }
.ba-pair .remove-btn { position: absolute; top: 10px; right: 10px; background: #3a0000; color: #e74c3c; border: 1px solid #e74c3c; border-radius: 20px; padding: 3px 10px; font-size: 0.72rem; cursor: pointer; }
.ba-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.add-ba-btn { width: 100%; margin-top: 10px; padding: 10px; background: #1a1a1a; border: 1px dashed var(--gold); color: var(--gold); border-radius: 8px; cursor: pointer; font-size: 0.85rem; font-weight: bold; }
.add-ba-btn:hover { background: #2a2200; }

/* AIãƒœã‚¿ãƒ³ */
.ai-row { display: flex; align-items: flex-start; gap: 8px; margin-top: 6px; }
.ai-row textarea { flex: 1; margin-top: 0; }
.btn-ai { background: #1a1a00; color: var(--gold); border: 1px solid var(--gold); padding: 10px 14px; border-radius: 8px; font-size: 0.8rem; cursor: pointer; font-weight: bold; white-space: nowrap; flex-shrink: 0; line-height: 1.4; }
.btn-ai:hover { background: var(--gold); color: #000; }
.ai-hint { font-size: 0.73rem; color: #777; margin-top: 4px; line-height: 1.5; }

/* ã‚«ãƒ©ãƒ¼ãƒ»ã‚°ãƒªãƒƒãƒ‰ */
.two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

/* ãŠå•ã„åˆã‚ã› */
.contact-grid { display: flex; flex-direction: column; gap: 8px; margin-top: 8px; }
.contact-item { display: flex; align-items: center; gap: 8px; }
.contact-item .icon { font-size: 1.2rem; flex-shrink: 0; }
.contact-item input { margin-top: 0; flex: 1; }

/* ãƒœã‚¿ãƒ³ */
.line-copy-btn { background: #06c755; color: #fff; border: none; padding: 14px; width: 100%; border-radius: 10px; font-weight: bold; margin-top: 24px; cursor: pointer; font-size: 1rem; display: flex; align-items: center; justify-content: center; gap: 8px; }
#generateZipBtn { display: block; width: 100%; padding: 18px; background: linear-gradient(135deg, #c5a059, #e6c88b); color: #000; font-weight: bold; border: none; border-radius: 30px; font-size: 1.1rem; margin-top: 14px; cursor: pointer; box-shadow: 0 4px 15px rgba(197,160,89,0.4); transition: transform 0.2s; }
#generateZipBtn:active { transform: scale(0.98); }
#generateZipBtn:disabled { opacity: 0.6; cursor: not-allowed; }

.zip-info { background: #0d0d0d; border: 1px solid #2a2a2a; border-radius: 8px; padding: 12px; margin-top: 10px; font-size: 0.76rem; color: #777; font-family: monospace; line-height: 1.8; }
.zip-info .g { color: #9f9; } .zip-info .b { color: #6cf; }
</style>
</head>
<body>

<h1 style="margin-bottom:4px;">RSW DX PORTAL</h1>
<h2 style="font-size:0.95rem; color:#666; margin-top:0; font-weight:normal;">æ–½å·¥å ±å‘ŠLPã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h2>

<div class="input-section">

  <!-- åŸºæœ¬æƒ…å ± -->
  <div class="section-title">åŸºæœ¬æƒ…å ±</div>
  <label>æ–½å·¥å®Œäº†æ—¥</label>
  <input type="date" id="date">

  <div class="two-col" style="margin-top:10px;">
    <div>
      <label>éƒ½é“åºœçœŒ</label>
      <select id="prefecture">
        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
        <option>åŒ—æµ·é“</option><option>é’æ£®çœŒ</option><option>å²©æ‰‹çœŒ</option><option>å®®åŸçœŒ</option>
        <option>ç§‹ç”°çœŒ</option><option>å±±å½¢çœŒ</option><option>ç¦å³¶çœŒ</option><option>èŒ¨åŸçœŒ</option>
        <option>æ ƒæœ¨çœŒ</option><option>ç¾¤é¦¬çœŒ</option><option>åŸ¼ç‰çœŒ</option><option>åƒè‘‰çœŒ</option>
        <option>æ±äº¬éƒ½</option><option>ç¥å¥ˆå·çœŒ</option><option>æ–°æ½ŸçœŒ</option><option>å¯Œå±±çœŒ</option>
        <option>çŸ³å·çœŒ</option><option>ç¦äº•çœŒ</option><option>å±±æ¢¨çœŒ</option><option>é•·é‡çœŒ</option>
        <option>å²é˜œçœŒ</option><option>é™å²¡çœŒ</option><option>æ„›çŸ¥çœŒ</option><option>ä¸‰é‡çœŒ</option>
        <option>æ»‹è³€çœŒ</option><option>äº¬éƒ½åºœ</option><option>å¤§é˜ªåºœ</option><option>å…µåº«çœŒ</option>
        <option>å¥ˆè‰¯çœŒ</option><option>å’Œæ­Œå±±çœŒ</option><option>é³¥å–çœŒ</option><option>å³¶æ ¹çœŒ</option>
        <option>å²¡å±±çœŒ</option><option>åºƒå³¶çœŒ</option><option>å±±å£çœŒ</option><option>å¾³å³¶çœŒ</option>
        <option>é¦™å·çœŒ</option><option>æ„›åª›çœŒ</option><option>é«˜çŸ¥çœŒ</option><option>ç¦å²¡çœŒ</option>
        <option>ä½è³€çœŒ</option><option>é•·å´çœŒ</option><option>ç†Šæœ¬çœŒ</option><option>å¤§åˆ†çœŒ</option>
        <option>å®®å´çœŒ</option><option>é¹¿å…å³¶çœŒ</option><option>æ²–ç¸„çœŒ</option>
      </select>
    </div>
    <div>
      <label>èªå®šæ–½å·¥åº—å</label>
      <input type="text" id="shopName" placeholder="ä¾‹ï¼šå±±ç”°å¤–æ§‹å·¥äº‹åº—">
    </div>
  </div>

  <!-- LPãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ -->
  <div class="section-title">LPãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ</div>
  <div class="theme-grid">
    <div class="theme-card selected" onclick="selectTheme('luxury', this)">
      <div class="theme-preview" style="background:linear-gradient(135deg,#0a0a0a,#1a1a1a); border:1px solid #c5a059;"></div>
      <div class="theme-name" style="color:#c5a059;">LUXURY</div>
      <div class="theme-desc">é»’Ã—ã‚´ãƒ¼ãƒ«ãƒ‰<br>é«˜ç´šæ„Ÿ</div>
    </div>
    <div class="theme-card" onclick="selectTheme('natural', this)">
      <div class="theme-preview" style="background:linear-gradient(135deg,#f5f0e8,#e8dcc8);"></div>
      <div class="theme-name" style="color:#6b5c3e;">NATURAL</div>
      <div class="theme-desc">ãƒ™ãƒ¼ã‚¸ãƒ¥Ã—èŒ¶<br>æ¸©ã‹ã¿</div>
    </div>
    <div class="theme-card" onclick="selectTheme('cool', this)">
      <div class="theme-preview" style="background:linear-gradient(135deg,#0d1b2a,#1b2a3b); border:1px solid #4a9eda;"></div>
      <div class="theme-name" style="color:#4a9eda;">COOL</div>
      <div class="theme-desc">ãƒã‚¤ãƒ“ãƒ¼Ã—é’<br>ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥</div>
    </div>
  </div>
  <input type="hidden" id="selectedTheme" value="luxury">

  <!-- ãƒ¡ã‚¤ãƒ³ç”»åƒ -->
  <div class="section-title">ãƒ¡ã‚¤ãƒ³å®Œäº†å†™çœŸ</div>
  <div class="file-input-wrapper">
    <span id="text-imgMain" class="preview-label">ğŸ“· ã‚¿ãƒƒãƒ—ã—ã¦å†™çœŸã‚’é¸æŠ</span>
    <input type="file" id="imgMain" accept="image/*" onchange="previewFile('imgMain')">
    <img id="preview-imgMain" class="preview-img">
  </div>

  <!-- ãƒ“ãƒ•ã‚©ãƒ¼ã‚¢ãƒ•ã‚¿ãƒ¼ -->
  <div class="section-title">Before / After</div>
  <div id="baPairsContainer"></div>
  <button class="add-ba-btn" onclick="addBaPair()">ï¼‹ Before / After ã‚’è¿½åŠ ã™ã‚‹</button>

  <!-- æ–½å·¥é¢¨æ™¯ -->
  <div class="section-title">æ–½å·¥é¢¨æ™¯ / é›†åˆå†™çœŸï¼ˆä»»æ„ï¼‰</div>
  <div class="file-input-wrapper">
    <span id="text-imgSub" class="preview-label">ğŸ“· ã‚¿ãƒƒãƒ—ã—ã¦å†™çœŸã‚’é¸æŠ</span>
    <input type="file" id="imgSub" accept="image/*" onchange="previewFile('imgSub')">
    <img id="preview-imgSub" class="preview-img">
  </div>

  <!-- ã“ã ã‚ã‚Šãƒã‚¤ãƒ³ãƒˆ -->
  <div class="section-title">ã“ã ã‚ã‚Šãƒã‚¤ãƒ³ãƒˆ</div>
  <div class="ai-hint">ğŸ’¡ å˜èªã§OKï¼ˆä¾‹ï¼šæ—©ã„ã€ç¶ºéº—ã€ã‹ã£ã“ã„ã„ï¼‰â†’ å³ã®ã€Œâœ¨ æ–‡ç« ã‚’æ•´ãˆã‚‹ã€ãƒœã‚¿ãƒ³ã§è‡ªå‹•å¤‰æ›ï¼</div>
  <div class="ai-row" style="margin-top:8px;">
    <textarea id="kodawari" placeholder="ä¾‹ï¼šæ—©ã„ã€ä¸å¯§ã€æƒé™¤ã—ã‚„ã™ã„ã€ã‹ã£ã“ã„ã„"></textarea>
    <button class="btn-ai" onclick="optimizeText('kodawari')">âœ¨ æ–‡ç« ã‚’<br>æ•´ãˆã‚‹</button>
  </div>

  <!-- æ–½å·¥è©³ç´° -->
  <div class="section-title">æ–½å·¥è©³ç´°</div>
  <div class="two-col">
    <div><label>æ–½å·¥é¢ç© (ã¡)</label><input type="text" id="area" placeholder="30"></div>
    <div><label>æ–½å·¥æ—¥æ•° (æ—¥)</label><input type="text" id="days" placeholder="3"></div>
  </div>
  <div class="two-col" style="margin-top:10px;">
    <div><label>ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼</label><input type="text" id="colorMain" placeholder="ä¾‹ï¼šãƒŸãƒ«ã‚¯ãƒ†ã‚£ãƒ¼"></div>
    <div><label>ç›®åœ°ã‚«ãƒ©ãƒ¼</label><input type="text" id="colorJoint" placeholder="ä¾‹ï¼šãƒ–ãƒ©ãƒƒã‚¯"></div>
  </div>

  <!-- ãŠå®¢æ§˜ã®å£° -->
  <div class="section-title">ãŠå®¢æ§˜ã®å£°</div>
  <div class="ai-hint">ğŸ’¡ å˜èªã§OKï¼ˆä¾‹ï¼šå–œã‚“ã§ãŸã€æ˜ã‚‹ããªã£ãŸï¼‰â†’ å³ã®ã€Œâœ¨ æ–‡ç« ã‚’æ•´ãˆã‚‹ã€ãƒœã‚¿ãƒ³ã§è‡ªå‹•å¤‰æ›ï¼</div>
  <div class="ai-row" style="margin-top:8px;">
    <textarea id="voice" placeholder="ä¾‹ï¼šå–œã‚“ã§ãŸã€æ˜ã‚‹ã„ã€ã‹ã£ã“ã‚ˆã‹ã£ãŸ"></textarea>
    <button class="btn-ai" onclick="optimizeText('voice')">âœ¨ æ–‡ç« ã‚’<br>æ•´ãˆã‚‹</button>
  </div>

  <!-- ãŠå•ã„åˆã‚ã› -->
  <div class="section-title">ãŠå•ã„åˆã‚ã›å…ˆï¼ˆå…¥åŠ›ã—ãŸã‚‚ã®ã ã‘LPã«è¡¨ç¤ºï¼‰</div>
  <div class="contact-grid">
    <div class="contact-item"><span class="icon">ğŸ’¬</span><input type="url" id="lineUrl" placeholder="å…¬å¼LINE URLï¼ˆhttps://line.me/...ï¼‰"></div>
    <div class="contact-item"><span class="icon">ğŸ“¸</span><input type="url" id="instaUrl" placeholder="Instagram URLï¼ˆhttps://instagram.com/...ï¼‰"></div>
    <div class="contact-item"><span class="icon">ğŸ“</span><input type="tel" id="phoneNum" placeholder="é›»è©±ç•ªå·ï¼ˆä¾‹ï¼š090-1234-5678ï¼‰"></div>
  </div>

  <!-- ZIPæ§‹é€ æ¡ˆå†… -->
  <div class="zip-info" style="margin-top:24px;">
    <span class="b">ğŸ“ report_æ—¥ä»˜_æ–½å·¥åº—å.zip</span><br>
    &nbsp;&nbsp;<span class="b">ğŸ“„ index.html</span> â€” é–²è¦§ç”¨LP<br>
    &nbsp;&nbsp;<span class="g">ğŸ–¼ main.jpg</span> â€” SNSç´ æ<br>
    &nbsp;&nbsp;<span class="g">ğŸ–¼ before_1.jpg / after_1.jpg â€¦</span> â€” SNSç´ æ<br>
    &nbsp;&nbsp;<span class="g">ğŸ–¼ sub.jpg</span> â€” SNSç´ æï¼ˆä»»æ„ï¼‰
  </div>

  <button class="line-copy-btn" onclick="copyLineText()">ğŸ’¬ LINEå ±å‘Šç”¨ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼</button>
  <button id="generateZipBtn" onclick="generateZip()">ğŸ“¦ å ±å‘Šæ›¸ã‚»ãƒƒãƒˆ (ZIP) ã‚’ä½œæˆ</button>
  <p style="text-align:center; color:#666; font-size:0.78rem; margin-top:8px;">â€» LINEã§æœ¬éƒ¨ã¸é€ä¿¡ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™</p>

</div>

<script>
// ===== åˆæœŸåŒ– =====
window.onload = function() {
  const params = new URLSearchParams(window.location.search);
  if (params.has('shop')) document.getElementById('shopName').value = params.get('shop');
  if (params.has('line')) document.getElementById('lineUrl').value = params.get('line');
  document.getElementById('date').valueAsDate = new Date();
  addBaPair();
};

// ===== ãƒ†ãƒ¼ãƒé¸æŠ =====
function selectTheme(name, el) {
  document.querySelectorAll('.theme-card').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  document.getElementById('selectedTheme').value = name;
}

// ===== ãƒ“ãƒ•ã‚©ãƒ¼ã‚¢ãƒ•ã‚¿ãƒ¼ =====
let baPairCount = 0;
const baPairImages = {};

function addBaPair() {
  baPairCount++;
  const id = baPairCount;
  const div = document.createElement('div');
  div.className = 'ba-pair';
  div.id = 'baPair_' + id;
  div.innerHTML =
    '<div class="pair-num">Before / After â€” ' + id + 'çµ„ç›®</div>' +
    (id > 1 ? '<button class="remove-btn" onclick="removeBaPair(' + id + ')">âœ• å‰Šé™¤</button>' : '') +
    '<div class="ba-inner">' +
      '<div>' +
        '<div style="color:var(--gold); font-size:0.8rem; font-weight:bold; margin-bottom:4px;">BEFORE</div>' +
        '<div class="file-input-wrapper">' +
          '<span id="text-before_' + id + '" class="preview-label">é¸æŠ</span>' +
          '<input type="file" accept="image/*" onchange="previewBaFile(\'before\',' + id + ',this)">' +
          '<img id="preview-before_' + id + '" class="preview-img">' +
        '</div>' +
      '</div>' +
      '<div>' +
        '<div style="color:var(--gold); font-size:0.8rem; font-weight:bold; margin-bottom:4px;">AFTER</div>' +
        '<div class="file-input-wrapper">' +
          '<span id="text-after_' + id + '" class="preview-label">é¸æŠ</span>' +
          '<input type="file" accept="image/*" onchange="previewBaFile(\'after\',' + id + ',this)">' +
          '<img id="preview-after_' + id + '" class="preview-img">' +
        '</div>' +
      '</div>' +
    '</div>';
  document.getElementById('baPairsContainer').appendChild(div);
}

function removeBaPair(id) {
  const el = document.getElementById('baPair_' + id);
  if (el) el.remove();
  delete baPairImages['before_' + id];
  delete baPairImages['after_' + id];
}

function previewBaFile(type, id, input) {
  const file = input.files[0];
  if (!file) return;
  const key = type + '_' + id;
  const reader = new FileReader();
  reader.onload = function(e) {
    const img = new Image();
    img.onload = function() {
      const canvas = document.createElement('canvas');
      const MAX = 1200; let w = img.width, h = img.height;
      if (w > MAX) { h = Math.round(h * MAX / w); w = MAX; }
      canvas.width = w; canvas.height = h;
      canvas.getContext('2d').drawImage(img, 0, 0, w, h);
      const dataUrl = canvas.toDataURL('image/jpeg', 0.85);
      baPairImages[key] = dataUrl;
      const prev = document.getElementById('preview-' + key);
      prev.src = dataUrl; prev.style.display = 'block';
      document.getElementById('text-' + key).style.display = 'none';
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
}

// ===== å˜ä½“ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ =====
const singleImages = {};
function previewFile(id) {
  const file = document.getElementById(id).files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = function(e) {
    const img = new Image();
    img.onload = function() {
      const canvas = document.createElement('canvas');
      const MAX = 1200; let w = img.width, h = img.height;
      if (w > MAX) { h = Math.round(h * MAX / w); w = MAX; }
      canvas.width = w; canvas.height = h;
      canvas.getContext('2d').drawImage(img, 0, 0, w, h);
      const dataUrl = canvas.toDataURL('image/jpeg', 0.85);
      singleImages[id] = dataUrl;
      document.getElementById('preview-' + id).src = dataUrl;
      document.getElementById('preview-' + id).style.display = 'block';
      document.getElementById('text-' + id).style.display = 'none';
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
}

// ===== æ–‡ç« æ•´å½¢ =====
const kodawariDict = {
  "æ—©ã‹ã£ãŸ":"ç†Ÿç·´ã®æŠ€è¡“ã«ã‚ˆã‚Šã€ã‚¹ãƒ”ãƒ¼ãƒ‡ã‚£ãƒ¼ã‹ã¤ä¸å¯§ã«ä»•ä¸Šã’ã¾ã—ãŸã€‚",
  "æ—©ã„":"çŸ­æœŸé–“ã§ã®æ–½å·¥ã‚’å®Ÿç¾ã—ã€ãŠå®¢æ§˜ã®è² æ‹…ã‚’æœ€å°é™ã«æŠ‘ãˆã¾ã—ãŸã€‚",
  "ç¶ºéº—":"ã¾ã‚‹ã§æœ¬çŸ³ã®ã‚ˆã†ãªã€é«˜ç´šæ„Ÿã‚ãµã‚Œã‚‹ç¾ã—ã„ä»•ä¸ŠãŒã‚Šã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚",
  "ãã‚Œã„":"ç´°éƒ¨ã¾ã§ã“ã ã‚ã‚Šã€æ´—ç·´ã•ã‚ŒãŸç¾ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã«ä»•ä¸Šã’ã¾ã—ãŸã€‚",
  "ã‹ã£ã“ã„ã„":"åœ§å€’çš„ãªå­˜åœ¨æ„Ÿã‚’æ”¾ã¤ã€ã‚¯ãƒ¼ãƒ«ã§ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ãªç©ºé–“ã«ç”Ÿã¾ã‚Œå¤‰ã‚ã‚Šã¾ã—ãŸã€‚",
  "æƒé™¤ã—ã‚„ã™ã„":"ç‰¹æ®ŠåŠ å·¥ã«ã‚ˆã‚Šã€æ—¥ã€…ã®ãŠæ‰‹å…¥ã‚Œã‚‚é©šãã»ã©ç°¡å˜ã«ãªã‚Šã¾ã™ã€‚",
  "æƒé™¤":"ç‰¹æ®ŠåŠ å·¥ã«ã‚ˆã‚Šã€æ—¥ã€…ã®ãŠæ‰‹å…¥ã‚Œã‚‚é©šãã»ã©ç°¡å˜ã«ãªã‚Šã¾ã™ã€‚",
  "ä¸å¯§":"ç´°éƒ¨ã®ç›®åœ°ã«ã„ãŸã‚‹ã¾ã§ã€è·äººã®ã“ã ã‚ã‚Šã‚’è©°ã‚è¾¼ã‚“ã ä¸å¯§ãªæ–½å·¥ã§ã™ã€‚",
  "å®‰ã„":"ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã¤ã¤ã‚‚ã€æœ€é«˜ç´šã®ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’å®Ÿç¾ã„ãŸã—ã¾ã—ãŸã€‚",
  "å¼·ã„":"è€ä¹…æ€§ã«å„ªã‚ŒãŸæ–½å·¥ã«ã‚ˆã‚Šã€é•·æœŸé–“ã«ã‚ãŸã£ã¦ç¾ã—ã•ã‚’ä¿ã¡ã¾ã™ã€‚",
  "ãŠã—ã‚ƒã‚Œ":"æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã§ã€å‘¨å›²ã¨å·®ã®ã¤ããŠã—ã‚ƒã‚Œãªä»•ä¸ŠãŒã‚Šã«ãªã‚Šã¾ã—ãŸã€‚",
  "æ˜ã‚‹ã„":"ç©ºé–“å…¨ä½“ãŒãƒ‘ãƒƒã¨æ˜ã‚‹ããªã‚Šã€é–‹æ”¾æ„Ÿã®ã‚ã‚‹ä»•ä¸ŠãŒã‚Šã¨ãªã‚Šã¾ã—ãŸã€‚"
};
const voiceDict = {
  "å–œã‚“ã§ãŸ":"ã€Œæƒ³åƒä»¥ä¸Šã®å‡ºæ¥æ „ãˆã§å¤§æ„Ÿå‹•ã§ã™ï¼ã€ã¨ã€æ–½ä¸»æ§˜ã«å¤§å¤‰ãŠå–œã³ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "å–œã‚“ã§ã„ãŸ":"ã€Œæƒ³åƒä»¥ä¸Šã®å‡ºæ¥æ „ãˆã§å¤§æ„Ÿå‹•ã§ã™ï¼ã€ã¨ã€æ–½ä¸»æ§˜ã«å¤§å¤‰ãŠå–œã³ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "ã‚ˆã‹ã£ãŸ":"ã€Œä»•ä¸ŠãŒã‚ŠãŒæœ¬å½“ã«ç´ æ™´ã‚‰ã—ã„ï¼ã€ã¨ã€å¤§å¤‰ã”æº€è¶³ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "è‰¯ã‹ã£ãŸ":"ã€Œä»•ä¸ŠãŒã‚ŠãŒæœ¬å½“ã«ç´ æ™´ã‚‰ã—ã„ï¼ã€ã¨ã€å¤§å¤‰ã”æº€è¶³ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "æ˜ã‚‹ããªã£ãŸ":"ã€Œå®¶å…¨ä½“ãŒæ˜ã‚‹ããªã£ã¦ã€æ¯æ—¥è¦‹ã‚‹ã®ãŒæ¥½ã—ã¿ã§ã™ï¼ã€ã¨ã®ãŠè¨€è‘‰ã‚’ã„ãŸã ãã¾ã—ãŸã€‚",
  "ã‹ã£ã“ã‚ˆã‹ã£ãŸ":"ã€Œã“ã‚“ãªã«ã‹ã£ã“ã‚ˆããªã‚‹ã¨ã¯æ€ã£ã¦ã„ãªã‹ã£ãŸï¼ã€ã¨å¤§å¤‰é©šã„ã¦ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "ã‹ã£ã“ã‚ˆããªã£ãŸ":"ã€Œã“ã‚“ãªã«ã‹ã£ã“ã‚ˆããªã‚‹ã¨ã¯æ€ã£ã¦ã„ãªã‹ã£ãŸï¼ã€ã¨å¤§å¤‰é©šã„ã¦ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "ç¶ºéº—ã«ãªã£ãŸ":"ã€Œã¾ã‚‹ã§æ–°ç¯‰ã¿ãŸã„ï¼ã€ã¨ã€ä»•ä¸ŠãŒã‚Šã«å¤§å¤‰æ„Ÿå‹•ã—ã¦ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "ãã‚Œã„ã«ãªã£ãŸ":"ã€Œã¾ã‚‹ã§æ–°ç¯‰ã¿ãŸã„ï¼ã€ã¨ã€ä»•ä¸ŠãŒã‚Šã«å¤§å¤‰æ„Ÿå‹•ã—ã¦ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "æº€è¶³":"ã€ŒæœŸå¾…ä»¥ä¸Šã®ä»•ä¸ŠãŒã‚Šã§ã€å¤§æº€è¶³ã§ã™ï¼ã€ã¨ã®ã†ã‚Œã—ã„ãŠå£°ã‚’ã„ãŸã ãã¾ã—ãŸã€‚",
  "æ„Ÿå‹•":"ã€Œã“ã‚“ãªã«ç´ æ•µã«ãªã‚‹ã¨ã¯ï¼ã€ã¨ã€æ–½å·¥å¾Œã®å¤‰ã‚ã‚Šã‚ˆã†ã«ã¨ã¦ã‚‚æ„Ÿå‹•ã—ã¦ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "æ—©ã‹ã£ãŸ":"ã€Œå·¥äº‹ãŒæ€ã£ãŸã‚ˆã‚Šãšã£ã¨æ—©ãçµ‚ã‚ã£ã¦åŠ©ã‹ã‚Šã¾ã—ãŸï¼ã€ã¨ã”å¥½è©•ã‚’ã„ãŸã ãã¾ã—ãŸã€‚",
  "ä¸å¯§":"ã€Œè·äººã•ã‚“ãŒã¨ã¦ã‚‚ä¸å¯§ã§ã€å®‰å¿ƒã—ã¦ãŠä»»ã›ã§ãã¾ã—ãŸã€ã¨ã®ãŠå£°ã‚’ã„ãŸã ãã¾ã—ãŸã€‚",
  "ãŠã—ã‚ƒã‚Œ":"ã€Œè¿‘æ‰€ã®æ–¹ã«ã‚‚ãŠã—ã‚ƒã‚Œã«ãªã£ãŸã­ã¨è¤’ã‚ã‚‰ã‚Œã¾ã—ãŸï¼ã€ã¨å–œã‚“ã§ã„ãŸã ã‘ã¾ã—ãŸã€‚",
  "ã¾ãŸé ¼ã¿ãŸã„":"ã€Œæ¬¡ã®ãƒªãƒ•ã‚©ãƒ¼ãƒ ã‚‚ãœã²ãŠé¡˜ã„ã—ãŸã„ï¼ã€ã¨ã€å¤§å¤‰ã†ã‚Œã—ã„ãŠè¨€è‘‰ã‚’ã„ãŸã ãã¾ã—ãŸã€‚"
};

function optimizeText(targetId) {
  let text = document.getElementById(targetId).value.trim();
  if (!text) { alert('ã¾ãšå˜èªã‚„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚'); return; }
  const dict = targetId === 'voice' ? voiceDict : kodawariDict;
  Object.keys(dict).forEach(function(key) {
    text = text.replace(new RegExp(key, 'g'), dict[key]);
  });
  if (targetId === 'kodawari') {
    const shop = document.getElementById('shopName').value;
    const tags = '\n\n#ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³ #' + shop + ' #èªå®šæ–½å·¥åº— #å¤–æ§‹å·¥äº‹ #ãƒªãƒ•ã‚©ãƒ¼ãƒ  #ãŠã—ã‚ƒã‚Œãªå®¶';
    if (text.indexOf('#ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚¹ãƒˆãƒ¼ãƒ³') === -1) text += tags;
  }
  document.getElementById(targetId).value = text;
  alert('âœ¨ æ–‡ç« ã‚’æ•´ãˆã¾ã—ãŸï¼');
}

// ===== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ =====
function escapeHtml(str) {
  if (!str) return '';
  return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}
function isValidUrl(url) {
  try { var u = new URL(url); return u.protocol==='https:' || u.protocol==='http:'; } catch(e) { return false; }
}
function dataUrlToBlob(dataUrl) {
  var parts = dataUrl.split(',');
  var mime = parts[0].match(/:(.*?);/)[1];
  var binary = atob(parts[1]);
  var arr = new Uint8Array(binary.length);
  for (var i = 0; i < binary.length; i++) arr[i] = binary.charCodeAt(i);
  return new Blob([arr], { type: mime });
}
function getFormData() {
  return {
    date: document.getElementById('date').value,
    pref: document.getElementById('prefecture').value,
    p: document.getElementById('shopName').value || 'èªå®šæ–½å·¥åº—',
    k: document.getElementById('kodawari').value,
    sc: document.getElementById('area').value,
    jc: document.getElementById('days').value,
    cm: document.getElementById('colorMain').value,
    cj: document.getElementById('colorJoint').value,
    v: document.getElementById('voice').value,
    lineUrl: document.getElementById('lineUrl').value,
    instaUrl: document.getElementById('instaUrl').value,
    phone: document.getElementById('phoneNum').value,
    theme: document.getElementById('selectedTheme').value
  };
}

// ===== LINE ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ”ãƒ¼ =====
function copyLineText() {
  var d = getFormData();
  var shopLabel = d.pref ? d.pref + ' ' + d.p : d.p;
  var text = 'ã€æ–½å·¥å®Œäº†å ±å‘Šã€‘\næ‹…å½“ï¼š' + shopLabel + '\næ—¥æ™‚ï¼š' + d.date +
    '\n\n[æ–½å·¥å†…å®¹]\nãƒ»é¢ç©ï¼š' + d.sc + 'ã¡\nãƒ»æ—¥æ•°ï¼š' + d.jc + 'æ—¥\nãƒ»ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼ï¼š' + d.cm +
    '\nãƒ»ç›®åœ°ã‚«ãƒ©ãƒ¼ï¼š' + d.cj + '\n\n[ã“ã ã‚ã‚Š]\n' + d.k +
    '\n\nâ€»è©³ç´°ã¯æ·»ä»˜ã®ZIPãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã”ç¢ºèªãã ã•ã„ã€‚';
  navigator.clipboard.writeText(text)
    .then(function() { alert('LINEç”¨ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼'); })
    .catch(function() { alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚'); });
}

// ===== ãƒ†ãƒ¼ãƒå®šç¾© =====
var themes = {
  luxury: {
    bodyBg:'#0a0a0a', bodyColor:'#ffffff', accent:'#c5a059',
    cardBg:'#1a1a1a', cardBorder:'#333333', labelColor:'#c5a059',
    baLabelColor:'#c5a059', footerColor:'#555555',
    headerGradient:'linear-gradient(180deg,#1a1200 0%,#0a0a0a 100%)',
    headingColor:'#c5a059'
  },
  natural: {
    bodyBg:'#f5f0e8', bodyColor:'#3a2e1e', accent:'#8b6f47',
    cardBg:'#fffdf7', cardBorder:'#d9c9b0', labelColor:'#6b5030',
    baLabelColor:'#8b6f47', footerColor:'#b0a090',
    headerGradient:'linear-gradient(180deg,#ede3d0 0%,#f5f0e8 100%)',
    headingColor:'#6b5030'
  },
  cool: {
    bodyBg:'#0d1b2a', bodyColor:'#e0eaf4', accent:'#4a9eda',
    cardBg:'#152536', cardBorder:'#1e3a52', labelColor:'#4a9eda',
    baLabelColor:'#4a9eda', footerColor:'#3a5a6a',
    headerGradient:'linear-gradient(180deg,#0a1520 0%,#0d1b2a 100%)',
    headingColor:'#4a9eda'
  }
};

// ===== ZIPç”Ÿæˆ =====
async function generateZip() {
  var btn = document.getElementById('generateZipBtn');
  var d = getFormData();
  if (!d.p || d.p === 'èªå®šæ–½å·¥åº—') {
    alert('èªå®šæ–½å·¥åº—åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
    document.getElementById('shopName').focus(); return;
  }
  btn.innerText = 'ä½œæˆä¸­...'; btn.disabled = true;

  try {
    var t = themes[d.theme] || themes.luxury;
    var shopLabel = d.pref ? d.pref + ' ' + d.p : d.p;

    // æœ‰åŠ¹ãªBAãƒšã‚¢ã‚’åé›†
    var activePairEls = document.querySelectorAll('.ba-pair');
    var activePairIds = Array.from(activePairEls).map(function(el) { return el.id.replace('baPair_',''); });

    // BA HTMLç”Ÿæˆ
    var baHtml = '';
    activePairIds.forEach(function(pid, idx) {
      var hasBefore = !!baPairImages['before_' + pid];
      var hasAfter  = !!baPairImages['after_' + pid];
      if (!hasBefore && !hasAfter) return;
      baHtml +=
        '<div style="margin-bottom:28px;">' +
        (activePairIds.length > 1 ? '<p style="color:' + t.labelColor + ';font-size:0.78rem;font-weight:bold;margin-bottom:10px;">' + (idx+1) + 'çµ„ç›®</p>' : '') +
        '<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">' +
          '<div style="text-align:center;">' +
            '<span style="display:block;font-size:0.78rem;color:' + t.baLabelColor + ';font-weight:bold;margin-bottom:6px;">BEFORE</span>' +
            (hasBefore ? '<img src="before_' + pid + '.jpg" style="width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:8px;border:1px solid ' + t.cardBorder + ';">' : '<div style="aspect-ratio:1/1;background:' + t.cardBg + ';border-radius:8px;border:1px solid ' + t.cardBorder + ';"></div>') +
          '</div>' +
          '<div style="text-align:center;">' +
            '<span style="display:block;font-size:0.78rem;color:' + t.baLabelColor + ';font-weight:bold;margin-bottom:6px;">AFTER</span>' +
            (hasAfter ? '<img src="after_' + pid + '.jpg" style="width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:8px;border:1px solid ' + t.cardBorder + ';">' : '<div style="aspect-ratio:1/1;background:' + t.cardBg + ';border-radius:8px;border:1px solid ' + t.cardBorder + ';"></div>') +
          '</div>' +
        '</div>' +
        '</div>';
    });

    // ãŠå•ã„åˆã‚ã›HTML
    var contactHtml = '';
    if (d.lineUrl && isValidUrl(d.lineUrl))
      contactHtml += '<a href="' + escapeHtml(d.lineUrl) + '" style="display:flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:16px;background:#06c755;color:#fff;text-decoration:none;border-radius:50px;font-weight:bold;margin-bottom:12px;box-sizing:border-box;font-size:1rem;">ğŸ’¬ å…¬å¼LINEã§ãŠå•ã„åˆã‚ã›</a>';
    if (d.instaUrl && isValidUrl(d.instaUrl))
      contactHtml += '<a href="' + escapeHtml(d.instaUrl) + '" style="display:flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:16px;background:linear-gradient(135deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);color:#fff;text-decoration:none;border-radius:50px;font-weight:bold;margin-bottom:12px;box-sizing:border-box;font-size:1rem;">ğŸ“¸ Instagramã§äº‹ä¾‹ã‚’ã‚‚ã£ã¨è¦‹ã‚‹</a>';
    if (d.phone)
      contactHtml += '<a href="tel:' + escapeHtml(d.phone) + '" style="display:flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:16px;background:' + t.accent + ';color:#000;text-decoration:none;border-radius:50px;font-weight:bold;margin-bottom:12px;box-sizing:border-box;font-size:1.05rem;">ğŸ“ ' + escapeHtml(d.phone) + '</a>';

    var im  = singleImages['imgMain'] || null;
    var iff = singleImages['imgSub']  || null;

    // LP HTML
    var htmlContent = '<!DOCTYPE html>\n<html lang="ja">\n<head>\n' +
      '<meta charset="UTF-8">\n' +
      '<meta name="viewport" content="width=device-width, initial-scale=1.0">\n' +
      '<title>æ–½å·¥å ±å‘Š | ' + escapeHtml(shopLabel) + '</title>\n' +
      '<style>\n' +
      '*{box-sizing:border-box;margin:0;padding:0;}\n' +
      'body{background:' + t.bodyBg + ';color:' + t.bodyColor + ';font-family:"Helvetica Neue",Arial,sans-serif;text-align:center;padding-bottom:60px;}\n' +
      '.header{background:' + t.headerGradient + ';padding:32px 20px 24px;border-bottom:2px solid ' + t.accent + ';}\n' +
      '.header .tag{font-size:0.72rem;color:' + t.accent + ';letter-spacing:0.15em;font-weight:bold;}\n' +
      '.header h1{font-size:1.5rem;color:' + t.bodyColor + ';margin:8px 0 6px;}\n' +
      '.header .date{font-size:0.82rem;color:' + t.footerColor + ';}\n' +
      '.main-img{width:100%;max-height:480px;object-fit:cover;display:block;}\n' +
      '.container{padding:24px 20px;max-width:600px;margin:auto;}\n' +
      '.card{background:' + t.cardBg + ';padding:20px;border-radius:14px;border:1px solid ' + t.cardBorder + ';margin-bottom:20px;text-align:left;}\n' +
      '.card-label{color:' + t.labelColor + ';font-size:0.75rem;font-weight:bold;letter-spacing:0.1em;display:block;margin-bottom:10px;}\n' +
      '.card p{line-height:1.7;color:' + t.bodyColor + ';white-space:pre-wrap;opacity:0.9;}\n' +
      '.specs{display:flex;flex-wrap:wrap;gap:10px;margin-top:14px;padding-top:14px;border-top:1px solid ' + t.cardBorder + ';}\n' +
      '.spec-item{font-size:0.82rem;color:' + t.bodyColor + ';opacity:0.7;}\n' +
      '.section-heading{color:' + t.headingColor + ';font-size:1.1rem;font-weight:bold;margin:30px 0 16px;text-align:center;}\n' +
      '.sub-img{width:100%;border-radius:14px;margin-top:20px;border:1px solid ' + t.cardBorder + ';display:block;}\n' +
      '.footer{margin-top:50px;color:' + t.footerColor + ';font-size:0.7rem;}\n' +
      '</style>\n</head>\n<body>\n' +
      '<div class="header">\n' +
      '  <div class="tag">ROLLER STONE èªå®šæ–½å·¥åº—</div>\n' +
      '  <h1>' + escapeHtml(shopLabel) + '</h1>\n' +
      '  <div class="date">æ–½å·¥å®Œäº†æ—¥ï¼š' + escapeHtml(d.date) + '</div>\n' +
      '</div>\n' +
      (im ? '<img src="main.jpg" class="main-img" alt="æ–½å·¥å®Œäº†å†™çœŸ">\n' : '') +
      '<div class="container">\n' +
      (d.k ? '<div class="card"><span class="card-label">âœ¦ ã“ã ã‚ã‚Šãƒã‚¤ãƒ³ãƒˆ</span><p>' + escapeHtml(d.k) + '</p><div class="specs">' +
        (d.sc ? '<span class="spec-item">ğŸ“ é¢ç©ï¼š' + escapeHtml(d.sc) + 'ã¡</span>' : '') +
        (d.jc ? '<span class="spec-item">ğŸ“… å·¥æœŸï¼š' + escapeHtml(d.jc) + 'æ—¥</span>' : '') +
        (d.cm ? '<span class="spec-item">ğŸ¨ ãƒ¡ã‚¤ãƒ³ï¼š' + escapeHtml(d.cm) + '</span>' : '') +
        (d.cj ? '<span class="spec-item">â¬› ç›®åœ°ï¼š' + escapeHtml(d.cj) + '</span>' : '') +
        '</div></div>\n' : '') +
      (baHtml ? '<div class="section-heading">Before / After</div>' + baHtml + '\n' : '') +
      (d.v ? '<div class="card"><span class="card-label">ğŸ’¬ ãŠå®¢æ§˜ã®å£°</span><p style="font-style:italic;">ã€Œ' + escapeHtml(d.v) + 'ã€</p></div>\n' : '') +
      (iff ? '<img src="sub.jpg" class="sub-img" alt="æ–½å·¥é¢¨æ™¯">\n' : '') +
      (contactHtml ? '<div style="margin-top:40px;"><div class="section-heading">ãŠå•ã„åˆã‚ã›ã¯ã“ã¡ã‚‰</div>' + contactHtml + '</div>\n' : '') +
      '<div class="footer">Generated by RSW DX PORTAL / ' + escapeHtml(d.date) + '</div>\n' +
      '</div>\n</body>\n</html>';

    // ZIPæ§‹ç¯‰
    var zip = new JSZip();
    zip.file('index.html', htmlContent);
    if (im)  zip.file('main.jpg', dataUrlToBlob(im));
    if (iff) zip.file('sub.jpg',  dataUrlToBlob(iff));
    activePairIds.forEach(function(pid) {
      if (baPairImages['before_' + pid]) zip.file('before_' + pid + '.jpg', dataUrlToBlob(baPairImages['before_' + pid]));
      if (baPairImages['after_' + pid])  zip.file('after_' + pid + '.jpg',  dataUrlToBlob(baPairImages['after_' + pid]));
    });

    var content = await zip.generateAsync({ type: 'blob' });
    saveAs(content, 'report_' + d.date + '_' + d.p + '.zip');

    btn.innerText = 'âœ… ä½œæˆå®Œäº†ï¼ã‚‚ã†ä¸€åº¦ä½œæˆã™ã‚‹';
    btn.disabled = false;
    alert('ğŸ“¦ ZIPã‚’ä½œæˆã—ã¾ã—ãŸï¼\nâ‘  LINEå ±å‘Šãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼\nâ‘¡ ZIPã‚’LINEã«æ·»ä»˜ã—ã¦é€ä¿¡');

  } catch(err) {
    console.error(err);
    alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ç”»åƒãŒå¤§ãã™ãã‚‹å ´åˆã¯å†é¸æŠã—ã¦ãã ã•ã„ã€‚');
    btn.innerText = 'ğŸ“¦ å ±å‘Šæ›¸ã‚»ãƒƒãƒˆ (ZIP) ã‚’ä½œæˆ';
    btn.disabled = false;
  }
}
</script>
</body>
</html>
