<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ローラーストーン施工費用シミュレーター</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: {
                            400: '#EABF4F',
                            500: '#D4AF37',
                            600: '#B8860B',
                        },
                        black: {
                            DEFAULT: '#111111',
                            pure: '#000000'
                        }
                    },
                    fontFamily: {
                        sans: ['Noto Sans JP', 'sans-serif'],
                    },
                    boxShadow: {
                        'luxury': '0 20px 40px -10px rgba(212, 175, 55, 0.15)',
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #f8fafc; color: #1a1a1a; -webkit-tap-highlight-color: transparent; }
        
        .text-gold-gradient {
            background: linear-gradient(135deg, #D4AF37 0%, #B8860B 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Instagram Gradient */
        .bg-insta {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }
        
        /* スライダー用スタイル */
        .comparison-slider {
            position: relative; width: 100%; padding-top: 66.66%; overflow: hidden;
            border-radius: 1.5rem; cursor: ew-resize; user-select: none; background: #333;
        }
        .comparison-slider img {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; pointer-events: none;
        }
        .comparison-slider .img-before { z-index: 10; clip-path: inset(0 50% 0 0); will-change: clip-path; }
        .comparison-slider .slider-handle {
            position: absolute; top: 0; left: 50%; bottom: 0; width: 2px; background: white; z-index: 20;
            transform: translateX(-50%); box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        .comparison-slider .slider-button {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 44px; height: 44px; background: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 21;
        }

        /* FAQアニメーション */
        .faq-content { transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out; max-height: 0; opacity: 0; overflow: hidden; }
        .faq-content.open { max-height: 200px; opacity: 1; }
        .faq-icon { transition: transform 0.3s ease; }
        .faq-icon.rotate { transform: rotate(180deg); }

        /* ボタンアクション */
        .quick-btn:active { transform: scale(0.95); background-color: #f0fdf4; border-color: #D4AF37; }
        .action-btn:active { transform: scale(0.98); opacity: 0.9; }

        /* パース訴求エリアのアニメーション */
        @keyframes pulse-border {
            0% { border-color: rgba(212, 175, 55, 0.4); }
            50% { border-color: rgba(212, 175, 55, 1); }
            100% { border-color: rgba(212, 175, 55, 0.4); }
        }
        .pulse-border {
            animation: pulse-border 2s infinite;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4 sm:px-6">

    <div class="w-full max-w-lg space-y-10 mb-20">
        
        <!-- ヘッダー -->
        <div class="text-center space-y-4">
            <div class="inline-block px-4 py-1 border border-gold-500 rounded-full bg-white shadow-sm">
                <p class="text-[10px] font-black tracking-[0.2em] text-gold-600 uppercase">Authorized Simulator</p>
            </div>
            <h1 class="text-3xl font-black tracking-tighter leading-tight text-black-pure">
                RollerStone<br/>
                <span class="text-gold-gradient">施工費用シミュレーター</span>
            </h1>
        </div>

        <!-- 計算カード -->
        <div class="bg-white rounded-[2rem] p-6 sm:p-8 shadow-luxury border border-slate-100 relative z-10">
            <div class="space-y-6">
                
                <!-- 入力エリア -->
                <div class="space-y-3">
                    <label for="area" class="block text-center text-xs font-black text-slate-400 uppercase tracking-widest">施工面積を入力</label>
                    <div class="relative max-w-[240px] mx-auto">
                        <input type="number" id="area" placeholder="0" 
                            class="w-full px-4 py-5 text-5xl font-black text-center bg-slate-50 border-2 border-slate-100 rounded-2xl focus:border-gold-500 focus:bg-white outline-none transition-all placeholder-slate-200 text-slate-800" />
                        <span class="absolute right-4 bottom-6 text-xl font-bold text-slate-300">㎡</span>
                    </div>

                    <!-- 目安ボタン -->
                    <div class="grid grid-cols-3 gap-2 pt-2">
                        <button onclick="setArea(15)" class="quick-btn flex flex-col items-center justify-center p-3 border border-slate-200 rounded-xl hover:border-gold-400 hover:bg-gold-50 transition-all bg-white shadow-sm">
                            <i data-lucide="car" class="w-5 h-5 text-slate-400 mb-1"></i>
                            <span class="text-[10px] font-bold text-slate-600">車1台<br>(15㎡)</span>
                        </button>
                        <button onclick="setArea(30)" class="quick-btn flex flex-col items-center justify-center p-3 border border-slate-200 rounded-xl hover:border-gold-400 hover:bg-gold-50 transition-all bg-white shadow-sm">
                            <div class="flex gap-0.5"><i data-lucide="car" class="w-4 h-4 text-slate-400 mb-1"></i><i data-lucide="car" class="w-4 h-4 text-slate-400 mb-1"></i></div>
                            <span class="text-[10px] font-bold text-slate-600">車2台<br>(30㎡)</span>
                        </button>
                        <button onclick="setArea(5)" class="quick-btn flex flex-col items-center justify-center p-3 border border-slate-200 rounded-xl hover:border-gold-400 hover:bg-gold-50 transition-all bg-white shadow-sm">
                            <i data-lucide="footprints" class="w-5 h-5 text-slate-400 mb-1"></i>
                            <span class="text-[10px] font-bold text-slate-600">アプローチ<br>(5㎡)</span>
                        </button>
                    </div>
                </div>

                <!-- 計算ボタン -->
                <button onclick="calculate()" class="w-full bg-black-pure text-white py-5 rounded-2xl font-black text-lg hover:bg-slate-800 hover:-translate-y-1 transition-all active:scale-[0.98] shadow-xl flex items-center justify-center gap-2 group">
                    <span>概算見積もりを見る</span>
                    <i data-lucide="calculator" class="w-5 h-5 text-gold-500 group-hover:text-gold-400"></i>
                </button>
            </div>

            <!-- 結果表示エリア -->
            <div id="resultArea" class="hidden mt-8 pt-8 border-t border-dashed border-slate-200">
                <div class="space-y-3 mb-6 px-2">
                    <div class="flex justify-between text-sm">
                        <span class="text-slate-400 font-bold">適用単価</span>
                        <span id="unitPrice" class="font-bold text-slate-800">-</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-slate-400 font-bold">施工費 (税別)</span>
                        <span id="basePrice" class="font-bold text-slate-800">-</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-slate-400 font-bold">消費税 (10%)</span>
                        <span id="taxPrice" class="font-bold text-slate-800">-</span>
                    </div>
                </div>

                <!-- 合計金額BOX -->
                <div class="bg-gradient-to-br from-gold-400 to-gold-600 rounded-2xl p-6 text-center text-white shadow-lg relative overflow-hidden">
                    <div class="absolute -top-6 -right-6 opacity-20">
                        <i data-lucide="check-circle" class="w-32 h-32"></i>
                    </div>
                    <p class="text-[10px] font-bold tracking-widest uppercase opacity-90 mb-1 relative z-10">Total Estimated Price</p>
                    <div class="text-4xl font-black tracking-tight relative z-10" id="totalPrice">¥0</div>
                    
                    <div id="fixedPriceNotice" class="hidden mt-2">
                        <span class="text-[10px] bg-black/20 px-2 py-1 rounded inline-block font-bold">※一式工事価格（最低施工金額）適用</span>
                    </div>
                </div>

                <p class="text-[10px] text-slate-400 mt-4 text-center leading-relaxed">
                    ※下地処理費、オプション、諸経費は含まれておりません。<br>
                    ※正確な金額は現地調査後に確定します。
                </p>

                <!-- 【重要】無料パース作成キャンペーンエリア -->
                <div class="mt-8 border-2 border-gold-400 pulse-border rounded-2xl p-5 bg-gold-400/5 text-center relative overflow-hidden">
                    <div class="absolute top-0 right-0 bg-gold-500 text-white text-[9px] font-bold px-3 py-1 rounded-bl-lg">期間限定</div>
                    
                    <h4 class="text-lg font-black text-black-pure mb-2 flex items-center justify-center gap-2">
                        <i data-lucide="camera" class="w-5 h-5 text-gold-600"></i>
                        <span>無料パース作成中！</span>
                    </h4>
                    <p class="text-xs font-bold text-slate-600 leading-relaxed mb-4">
                        あなたの家の写真（駐車場やアプローチ）を送ってください。<br>
                        <span class="text-gold-600 underline decoration-2 underline-offset-2">無料で完成イメージ図（パース）を作成します。</span><br>
                        契約前でもOK！まずはイメージを確認しましょう。
                    </p>

                    <!-- LINE公式登録 (パース依頼用) -->
                    <button onclick="connectLine()" class="action-btn w-full bg-[#06C755] text-white py-4 rounded-xl font-bold text-base shadow-md flex items-center justify-center gap-2">
                        <i data-lucide="message-circle" class="w-6 h-6"></i>
                        <span>LINEで写真を送って無料パース依頼</span>
                    </button>
                    <p class="text-[9px] text-center text-slate-400 mt-2">
                        ※友だち追加後、写真を送信してください
                    </p>
                </div>
                
                <!-- Instagram & カタログ -->
                <div class="mt-4 space-y-3">
                    <a href="https://www.instagram.com/cementart_numan/" target="_blank" class="action-btn w-full bg-insta text-white py-4 rounded-xl font-bold text-base shadow-md flex items-center justify-center gap-2">
                        <i data-lucide="instagram" class="w-6 h-6"></i>
                        <span>Instagramで施工例を見る</span>
                    </a>

                    <!-- 【新機能】デジタルカタログボタン -->
                    <a href="https://rollerstone.com/catalog/" target="_blank" class="action-btn w-full bg-slate-800 text-white py-4 rounded-xl font-bold text-base shadow-md flex items-center justify-center gap-2">
                        <i data-lucide="book-open" class="w-6 h-6 text-gold-400"></i>
                        <span>WEBカタログを見る</span>
                    </a>
                </div>

            </div>
        </div>

        <!-- ビフォーアフター & ギャラリー -->
        <div class="bg-black-pure rounded-[2.5rem] p-6 sm:p-8 text-white space-y-8 shadow-2xl border border-white/10 relative overflow-hidden">
            <div class="text-center relative z-10">
                <span class="text-gold-500 text-[10px] font-black uppercase tracking-widest">Visual Comparison</span>
                <h3 class="text-2xl font-black mt-2">劇的ビフォーアフター</h3>
            </div>

            <!-- スライダー -->
            <div class="comparison-slider" id="comparison-slider">
                <img src="after1.jpg.JPG" alt="After" class="img-after">
                <img src="before.jpg.JPG" alt="Before" class="img-before" id="slider-img-before">
                
                <div class="slider-handle" id="slider-handle">
                    <div class="slider-button">
                         <i data-lucide="chevrons-left-right" class="text-black w-5 h-5"></i>
                    </div>
                </div>
                <div class="absolute bottom-3 left-4 z-30 bg-black/60 backdrop-blur px-2 py-1 rounded text-[10px] font-bold border border-white/20">BEFORE</div>
                <div class="absolute bottom-3 right-4 z-30 bg-gold-600/80 backdrop-blur px-2 py-1 rounded text-[10px] font-bold border border-white/20">AFTER</div>
            </div>

            <!-- ギャラリー (縦並び) -->
            <div class="space-y-4">
                <div class="rounded-xl overflow-hidden border border-white/20 relative group">
                    <img src="after2.jpg.JPG" class="w-full h-56 object-cover group-hover:scale-105 transition-transform duration-700">
                    <span class="absolute bottom-3 left-3 text-xs font-bold bg-black/60 px-3 py-1 rounded backdrop-blur-sm">別アングル</span>
                </div>
                <div class="rounded-xl overflow-hidden border border-white/20 relative group">
                    <img src="material.jpg.JPG" class="w-full h-56 object-cover group-hover:scale-105 transition-transform duration-700">
                    <span class="absolute bottom-3 left-3 text-xs font-bold bg-black/60 px-3 py-1 rounded backdrop-blur-sm">使用素材</span>
                </div>
            </div>
        </div>

        <!-- FAQセクション -->
        <div class="space-y-4">
            <p class="text-center text-[10px] font-black text-slate-400 uppercase tracking-widest">Frequently Asked Questions</p>
            
            <div class="space-y-3">
                <div class="bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                    <button onclick="toggleFaq(1)" class="w-full p-5 flex items-center justify-between text-left hover:bg-slate-50 transition-colors">
                        <span class="text-sm font-bold text-slate-800">Q1: 工期はどれくらいですか？</span>
                        <i data-lucide="chevron-down" id="faq-icon-1" class="w-4 h-4 text-slate-400 faq-icon"></i>
                    </button>
                    <div id="faq-answer-1" class="faq-content bg-slate-50">
                        <div class="p-5 pt-2 text-xs text-slate-500 font-medium leading-relaxed border-t border-slate-100">
                            通常2〜3日で完了します（施工面積や下地の状況によります）。既存の床を壊さないため、短期間でのリフォームが可能です。
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                    <button onclick="toggleFaq(2)" class="w-full p-5 flex items-center justify-between text-left hover:bg-slate-50 transition-colors">
                        <span class="text-sm font-bold text-slate-800">Q2: 車が乗っても大丈夫ですか？</span>
                        <i data-lucide="chevron-down" id="faq-icon-2" class="w-4 h-4 text-slate-400 faq-icon"></i>
                    </button>
                    <div id="faq-answer-2" class="faq-content bg-slate-50">
                        <div class="p-5 pt-2 text-xs text-slate-500 font-medium leading-relaxed border-t border-slate-100">
                            はい、全く問題ありません。ローラーストーンは高強度コンクリート素材を使用しており、駐車場など大型車両が乗る場所でも長期間美しさと強度を保ちます。
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                    <button onclick="toggleFaq(3)" class="w-full p-5 flex items-center justify-between text-left hover:bg-slate-50 transition-colors">
                        <span class="text-sm font-bold text-slate-800">Q3: 既存の床を解体しますか？</span>
                        <i data-lucide="chevron-down" id="faq-icon-3" class="w-4 h-4 text-slate-400 faq-icon"></i>
                    </button>
                    <div id="faq-answer-3" class="faq-content bg-slate-50">
                        <div class="p-5 pt-2 text-xs text-slate-500 font-medium leading-relaxed border-t border-slate-100">
                            いいえ、解体は不要です。既存のタイル、アスファルト、コンクリートの上から直接施工できるため、廃材が出ず、解体費用を大幅にカットできます。
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- フッター -->
        <div class="text-center py-8">
            <p class="text-[9px] text-slate-300 font-black tracking-[0.3em] uppercase mt-4">Roller Stone Authorized Simulator</p>
        </div>

    </div>

    <script>
        lucide.createIcons();

        function setArea(val) {
            document.getElementById('area').value = val;
            calculate();
        }

        function calculate() {
            const areaInput = document.getElementById('area').value;
            const area = parseFloat(areaInput);

            if (!area || area <= 0) {
                alert("面積を正しく入力してください");
                return;
            }

            let unitPrice = 0;
            let basePrice = 0;
            let isFixedPrice = false;

            const priceTable = {
                10: 11200, 11: 11200, 12: 11100, 13: 11000, 14: 11000, 15: 10900, 16: 10800, 17: 10700, 18: 10700,
                19: 10600, 20: 10500, 21: 10400, 22: 10400, 23: 10300, 24: 10200, 25: 10200, 26: 10100, 27: 10100,
                28: 10100, 29: 10100, 30: 10000, 31: 10000, 32: 9900, 33: 9900, 34: 9900, 35: 9900, 36: 9800,
                37: 9800, 38: 9800, 39: 9800, 40: 9700, 41: 9700, 42: 9700, 43: 9700, 44: 9600, 45: 9600, 46: 9600,
                47: 9600, 48: 9500, 49: 9500, 50: 9500, 51: 9500, 52: 9400, 53: 9400, 54: 9400, 55: 9400
            };

            const rArea = Math.round(area);

            if (rArea >= 63) { unitPrice = 9200; }
            else if (rArea >= 56) { unitPrice = 9300; }
            else if (priceTable[rArea]) { unitPrice = priceTable[rArea]; }
            else { unitPrice = 11200; }

            basePrice = area * unitPrice;

            if (basePrice < 115900) {
                basePrice = 115900;
                isFixedPrice = true;
            }

            const tax = Math.floor(basePrice * 0.1);
            const total = Math.floor(basePrice + tax);

            document.getElementById('resultArea').classList.remove('hidden');
            
            document.getElementById('unitPrice').innerText = isFixedPrice ? "一式工事適用" : unitPrice.toLocaleString() + " 円";
            document.getElementById('basePrice').innerText = basePrice.toLocaleString() + " 円";
            document.getElementById('taxPrice').innerText = tax.toLocaleString() + " 円";
            document.getElementById('totalPrice').innerText = "¥" + total.toLocaleString();

            const notice = document.getElementById('fixedPriceNotice');
            if (isFixedPrice) notice.classList.remove('hidden');
            else notice.classList.add('hidden');
        }

        function connectLine() {
            // 指定されたLINE URLへ遷移
            window.location.href = "https://lin.ee/EAASJvg";
        }

        function toggleFaq(id) {
            const answer = document.getElementById(`faq-answer-${id}`);
            const icon = document.getElementById(`faq-icon-${id}`);
            if (answer.classList.contains('open')) {
                answer.classList.remove('open');
                icon.classList.remove('rotate');
            } else {
                answer.classList.add('open');
                icon.classList.add('rotate');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const slider = document.getElementById('comparison-slider');
            const beforeImg = document.getElementById('slider-img-before');
            const handle = document.getElementById('slider-handle');
            
            let isDragging = false;
            const updateSliderPosition = (x) => {
                const rect = slider.getBoundingClientRect();
                let position = ((x - rect.left) / rect.width) * 100;
                position = Math.max(0, Math.min(100, position));
                beforeImg.style.clipPath = `inset(0 ${100 - position}% 0 0)`;
                handle.style.left = `${position}%`;
            };

            slider.addEventListener('mousedown', () => isDragging = true);
            window.addEventListener('mouseup', () => isDragging = false);
            window.addEventListener('mousemove', (e) => { if (!isDragging) return; updateSliderPosition(e.clientX); });
            slider.addEventListener('touchstart', () => isDragging = true);
            window.addEventListener('touchend', () => isDragging = false);
            window.addEventListener('touchmove', (e) => { if (!isDragging) return; updateSliderPosition(e.touches[0].clientX); });
            slider.addEventListener('click', (e) => { updateSliderPosition(e.clientX); });
        });
    </script>
</body>
</html>
